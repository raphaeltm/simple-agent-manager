# VM Agent Multi-Terminal Configuration

# Maximum number of concurrent terminal sessions per workspace (default: 10)
MAX_TERMINAL_SESSIONS=10

# Session idle timeout in seconds (default: 3600 = 1 hour)
# Sessions inactive for this duration will be automatically closed
SESSION_IDLE_TIMEOUT_SECONDS=3600

# Memory limit per terminal session in MB (default: 100)
# Helps prevent resource exhaustion from runaway processes
TERMINAL_RESOURCE_LIMIT_MB=100

# Port for VM Agent to listen on
VM_AGENT_PORT=8080

# Workspace ID (set by cloud-init during provisioning)
WORKSPACE_ID=

# JWKS endpoint for JWT validation
JWKS_ENDPOINT=

# JWT issuer to validate
JWT_ISSUER=

# JWT audience to validate
JWT_AUDIENCE=workspace-terminal

# Enable debug logging
DEBUG=false

# Idle detection check interval in seconds
IDLE_CHECK_INTERVAL=60

# Heartbeat interval to control plane in seconds
HEARTBEAT_INTERVAL=30

# Shell to use for terminal sessions (default: auto-detect)
# Options: bash, zsh, sh, or leave empty for auto-detect
TERMINAL_SHELL=

# Logging configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Log retrieval settings
LOG_RETRIEVAL_DEFAULT_LIMIT=200
LOG_RETRIEVAL_MAX_LIMIT=1000
LOG_STREAM_BUFFER_SIZE=100
LOG_READER_TIMEOUT=30s
LOG_STREAM_PING_INTERVAL=30s
LOG_STREAM_PONG_TIMEOUT=90s

# System info collection timeouts
SYSINFO_DOCKER_LIST_TIMEOUT=10s
SYSINFO_DOCKER_STATS_TIMEOUT=10s