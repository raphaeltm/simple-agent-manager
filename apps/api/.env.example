# Local development configuration

# Wrangler port (default: 8787)
WRANGLER_PORT=8787

# Base domain used for app/api/ws-vhost URL construction
BASE_DOMAIN=simple-agent-manager.org

# Local development secrets (optional, for testing auth)
# GITHUB_CLIENT_ID=
# GITHUB_CLIENT_SECRET=
# GITHUB_APP_ID=
# GITHUB_APP_PRIVATE_KEY=

# Cloudflare credentials (for DNS operations)
# CF_API_TOKEN=
# CF_ZONE_ID=

# Security keys (auto-generated if not provided)
# ENCRYPTION_KEY=       # Used to encrypt user-provided credentials (Hetzner tokens, etc.)
# JWT_PRIVATE_KEY=
# JWT_PUBLIC_KEY=

# NOTE: Hetzner tokens are NOT platform secrets.
# Users provide their own Hetzner API tokens through the Settings UI.
# These are stored encrypted (per-user) in the database.

# User approval / invite-only mode
# When "true", new users require admin approval before accessing the platform.
# The first user to register automatically becomes superadmin.
# REQUIRE_APPROVAL=true

# Pages project names (for Worker proxy routing)
# PAGES_PROJECT_NAME=sam-web-prod
# WWW_PAGES_PROJECT_NAME=sam-www

# Multi-workspace node limits
# MAX_NODES_PER_USER=10
# MAX_WORKSPACES_PER_USER=10
# MAX_WORKSPACES_PER_NODE=10
# MAX_AGENT_SESSIONS_PER_WORKSPACE=10
# MAX_PROJECTS_PER_USER=25
# MAX_TASKS_PER_PROJECT=500
# MAX_TASK_DEPENDENCIES_PER_TASK=25
# TASK_LIST_DEFAULT_PAGE_SIZE=50
# TASK_LIST_MAX_PAGE_SIZE=200
# TASK_CALLBACK_TIMEOUT_MS=10000
# TASK_CALLBACK_RETRY_MAX_ATTEMPTS=3
# NODE_HEARTBEAT_STALE_SECONDS=180

# Fresh-node readiness wait before first workspace provisioning
# NODE_AGENT_READY_TIMEOUT_MS=120000
# NODE_AGENT_READY_POLL_INTERVAL_MS=5000

# Voice-to-text transcription (Workers AI)
# WHISPER_MODEL_ID=@cf/openai/whisper-large-v3-turbo
# MAX_AUDIO_SIZE_BYTES=10485760
# MAX_AUDIO_DURATION_SECONDS=60
# RATE_LIMIT_TRANSCRIBE=30

# Client-side error reporting
# RATE_LIMIT_CLIENT_ERRORS=200
# MAX_CLIENT_ERROR_BATCH_SIZE=25
# MAX_CLIENT_ERROR_BODY_BYTES=65536

# VM agent error reporting
# MAX_VM_AGENT_ERROR_BODY_BYTES=32768
# MAX_VM_AGENT_ERROR_BATCH_SIZE=10

# External API timeouts (milliseconds, default: 30000)
# HETZNER_API_TIMEOUT_MS=30000
# CF_API_TIMEOUT_MS=30000
# NODE_AGENT_REQUEST_TIMEOUT_MS=30000

# Project Data Durable Object limits
# MAX_SESSIONS_PER_PROJECT=1000
# MAX_MESSAGES_PER_SESSION=10000
# MESSAGE_SIZE_THRESHOLD=102400
# ACTIVITY_RETENTION_DAYS=90
# SESSION_IDLE_TIMEOUT_MINUTES=60
# DO_SUMMARY_SYNC_DEBOUNCE_MS=5000
