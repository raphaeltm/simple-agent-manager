---
const features = [
  {
    icon: 'terminal',
    title: 'Claude Code First',
    description: 'Pre-installed and optimized. Session persistence, MCP server support, and agent protocol built in.',
  },
  {
    icon: 'dollar',
    title: '2-3x Cheaper',
    description: 'Hetzner Cloud VMs at ~$0.07-0.15/hr. Node consolidation runs multiple workspaces on one VM.',
  },
  {
    icon: 'shield',
    title: 'Bring Your Own Cloud',
    description: 'You own your infrastructure. Hetzner tokens stored encrypted per-user, never on our servers.',
  },
  {
    icon: 'zap',
    title: 'Instant Workspaces',
    description: 'Point at any GitHub repo and get a fully configured devcontainer environment in minutes.',
  },
  {
    icon: 'layers',
    title: 'Multi-Workspace Nodes',
    description: 'Run multiple workspaces on a single VM. Consolidation cuts costs without sacrificing isolation.',
  },
  {
    icon: 'lock',
    title: 'Private Repo Support',
    description: 'GitHub App integration gives secure access to your organization\'s private repositories.',
  },
];

const iconPaths: Record<string, string> = {
  terminal: 'M4 17l6-5-6-5M12 19h8',
  dollar: 'M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6',
  shield: 'M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z',
  zap: 'M13 2L3 14h9l-1 10 10-12h-9l1-10z',
  layers: 'M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5',
  lock: 'M19 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2zM7 11V7a5 5 0 0 1 10 0v4',
};
---

<section id="features" class="section">
  <div class="container">
    <div class="features-header animate-on-scroll">
      <span class="section-label">Features</span>
      <h2 class="section-title">Everything you need for<br />AI-powered development</h2>
      <p class="section-subtitle">
        Purpose-built for developers who use Claude Code. No bloat, no vendor lock-in.
      </p>
    </div>

    <div class="features-grid">
      {features.map((feature, i) => (
        <div class="feature-card animate-on-scroll" style={`transition-delay: ${i * 80}ms`}>
          <div class="feature-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d={iconPaths[feature.icon]} />
            </svg>
          </div>
          <h3 class="feature-title">{feature.title}</h3>
          <p class="feature-desc">{feature.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .features-header {
    text-align: center;
    margin-bottom: 64px;
  }

  .features-header .section-subtitle {
    margin-left: auto;
    margin-right: auto;
  }

  .features-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 24px;
  }

  @media (min-width: 640px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .features-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .feature-card {
    padding: 32px;
    background: var(--color-bg-surface);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-lg);
    transition: border-color 0.3s, box-shadow 0.3s, opacity 0.6s ease, transform 0.6s ease;
  }

  .feature-card:hover {
    border-color: var(--color-border);
    box-shadow: 0 0 40px var(--color-accent-glow);
  }

  .feature-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    border-radius: var(--radius-md);
    background: var(--color-accent-glow);
    color: var(--color-accent);
    margin-bottom: 20px;
  }

  .feature-title {
    font-family: var(--font-display);
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--color-fg-primary);
    margin-bottom: 8px;
  }

  .feature-desc {
    font-size: 0.9375rem;
    color: var(--color-fg-muted);
    line-height: 1.6;
  }
</style>
